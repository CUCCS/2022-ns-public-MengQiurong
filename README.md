# 第二章  操作系统的访问控制设计实例研究

## 实验目的

- 通过 iOS 或Android 系统为研究对象，进行访问控制的理解和设计

## 实验环境

- 操作系统版本：IOS
- 硬件设备型号：IPhone 11
- 是否默认设置：是

## 实验内容

- 以 iOS 和 Android 系统为研究对象
  - 当系统处于锁屏状态下接收到新短信时，不解锁情况下
    - 系统是否允许查看短信内容？
      - **不允许**
    - 系统是否允许回复短信？
      - **不允许**
  - 当系统处于锁屏状态下，使用系统内置（例如 iOS 的 Siri ）或第三方的语音助手可以完成以下哪些操作？
    - 访问通讯录
      - 不能
    - 拨打电话
      - **能**
    - 访问相册
      - 不能
    - 查看短信收件箱
      - **不能**

**思考题：**

- 以上设计实现方式属于我们课堂上讲过的哪种强制访问控制模型？Lattice/BLP？Biba？
  - **Biba模型**——**上读下写**。
- 系统或第三方应用程序是否提供了上述功能的访问控制规则修改？如果修改默认配置，是提高了安全性还是降低了安全性？
  - 是，用户可以通过对不同App应用赋予不同的权限控制从而实现不同层级的安全性控制。
  - 总体来说，授权越多越不安全；授权越少越安全。

##  课后题

**1.生物特征身份认证方式有哪些？优缺点分析？应用场景举例。**

- **指纹识别**

**原理**

指纹是手指末端正面皮肤上凸凹不平产生的纹路。尽管指纹只是人体皮肤的小部分，但是，它蕴涵着大量的信息。指纹特征可分为两类：总体特征和局部特征。

总体特征指那些用人眼直接就可以观察到的特征，包括基本纹路图案、模式区、核心点、三角点、式样线和纹线等。基本纹路图案有环形、弓形、螺旋形。

局部特征即指纹上节点的特征，这些具有某种特征的节点称为特征点。两枚指纹经常会具有相同的总体特征，但它们的局部特征——特征点，却不可能完全相同。指纹上的特征点，即指纹纹路上的终结点、分叉点和转折点。

指纹识别技术通常使用指纹的总体特征如纹形、三角点等来进行分类，再用局部特征如位置和方向等来进行用户身份识别。

通常，首先从获取的指纹图像上找到“特征点”（minutiae），然后根据特征点的特性建立用户活体指纹的数字表示——指纹特征数据（一种单向的转换，可以从指纹图像转换成特征数据但不能从特征数据转换成为指纹图像）。

由于两枚不同的指纹不会产生相同的特征数据，所以通过对所采集到的指纹图像的特征数据和存放在数据库中的指纹特征数据进行模式匹配，计算出它们的相似程度，最终得到两个指纹的匹配结果，根据匹配结果来鉴别用户身份。由于每个人的指纹不同，就是同一人的十指之间，指纹也有明显区别，因此指纹可用于身份鉴定。

**1．指纹识别的优点**

1）指纹是人体独一无二的特征，并且它们的复杂度足以提供用于鉴别的足够特征。

2）如果想要增加可靠性，只需登记更多的指纹，鉴别更多的手指，最多可以达到十个，而每一个指纹都是独一无二的。

3）扫描指纹的速度很快，使用非常方便。

4）读取指纹时，用户必须将手指与指纹采集头互相接触，与指纹采集头直接接触是读取人体生物特征最可靠的方法，这也是指纹识别技术能够占领大部分市场的一个主要原因。

5）指纹采集头可以更加小型化，并且价格会更加低廉。

**2．指纹识别的缺点**

1）某些人或某些群体的指纹因为指纹特征很少，故而很难成像。

2）过去因为在犯罪记录中使用指纹，使得某些人害怕“将指纹记录在案”。然而，实际上现在的指纹鉴别技术都可以保证不存储任何含有指纹图像的数据，而只是存储从指纹中得到的加密的指纹特征数据。

3）每一次使用指纹时都会在指纹采集头上留下用户的指纹印痕，而这些指纹痕迹存在被用来复制指纹的可能性。

可见，指纹识别技术是目前最方便、可靠、非侵害和价格便宜的生物识别技术解决方案，市场应用有着很大的潜力。

- **声音识别**

**原理**

所谓声纹（Voiceprint），是用电声学仪器显示的携带言语信息的声波频谱。人类语言的产生是人体语言中枢与发音器官之间一个复杂的生理物理过程，人在讲话时使用的发声器官--舌、牙齿、喉头、肺、鼻腔在尺寸和形态方面每个人的差异很大，所以任何两个人的声纹图谱都有差异。每个人的语音声学特征既有相对稳定性，又有变异性，不是绝对的、一成不变的。

这种变异可来自生理、病理、心理、模拟、伪装，也与环境干扰有关。尽管如此，由于每个人的发音器官都不尽相同，因此在一般情况下，人们仍能区别不同的人的声音或判断是否是同一人的声音。

**优缺点**

声纹识别的应用有一些缺点，比如同一个人的声音具有易变性，易受身体状况、年龄、情绪等的影响；比如不同的麦克风和信道对识别性能有影响；比如环境噪音对识别有干扰；又比如混合说话人的情形下人的声纹特征不易提取；……等等。尽管如此，与其他生物特征相比，声纹识别的应用有一些特殊的优势：

1）蕴含声纹特征的语音获取方便、自然，声纹提取可在不知不觉中完成，因此使用者的接受程度也高；

2）获取语音的识别成本低廉，使用简单，一个麦克风即可，在使用通讯设备时更无需额外的录音设备；

3）适合远程身份确认，只需要一个麦克风或电话、手机就可以通过网路（通讯网络或互联网络）实现远程登录；

4）声纹辨认和确认的算法复杂度低；

5）配合一些其他措施，如通过语音识别进行内容鉴别等，可以提高准确率；……等等。这些优势使得声纹识别的应用越来越收到系统开发者和用户青睐，声纹识别的世界市场占有率15.8%，仅次于指纹和掌纹的生物特征识别，并有不断上升的趋势。

- **视网膜识别**

视网膜是眼睛底部的血液细胞层。视网膜扫描是采用低密度的红外线去捕捉视网膜的独特特征，血液细胞的唯一模式就因此被捕捉下来。

视网膜是一些位于眼球后部十分细小的神经（一英寸的 1/50），它是人眼感受光线并将信息通过视神经传给大脑的重要器官，它同胶片的功能有些类似，用于生物识别的血管分布在神经视网膜周围，即视网膜四层细胞的最远处。

**视网膜技术的优点**

视网膜是一种极其固定的生物特征，因为它是“隐藏“的，故而不可能磨损，老化或是为疾病影响。

使用者不需要和设备进行直接的接触。

是一个最难欺骗的系统因为视网膜是不可见的，故而不会被伪造。

**视网膜技术的缺点**

视网膜技术未经过任何测试。

很明显，视网膜技术可能会给使用者带来健康的损坏，这需要进一步的研究。

对于消费者，视网膜技术没有吸引力。

很难进一步降低它的成本 。

- **虹膜识别**

**原理**

捕捉虹膜的数据图像

为虹膜的图像分析准备过程

从虹膜的纹理或类型创造512字节的iriscode.

使用iriscode模板用于确认。

在当今世界，虹膜识别仍被公认为是识别精度最高的生物识别系统。

生物测定学是一种技术，这种技术是将独特的人体特征（诸如面部特征、声音，指纹特征等）翻译成数字编码，这种编码可以识别、检验身份。

而虹膜识别技术通过人体独一无二眼睛虹膜的特征来识别身份，虹膜特征匹配的准确性甚至超过了DNA匹配。

这种技术在生物测定行业已经被广泛认为是目前精确度、稳定性、可升级性最高的身份识别系统

**优点**

1．便于用户使用；

2．可能会是最可靠的生物识别技术；

3．不需物理的接触；

4．可靠性高。

快捷方便：拥有本系统，不需要携带任何证件，就能实现门控，可单向亦可双向；既可以被授权控制一扇门，也可以控制开启多扇门；

授权灵活：本系统根据管理的需要，可任意调整用户权限，随时了解用户动态，包括客户身份、操作地点、功能及时间次序等，实现实时智能管理；

无法复制：本系统以虹膜信息为密码，不可复制；且每一次活动，都可自动记录，便于追溯、查询，非法情况则自动报警；

配置灵活多样：使用人和管理者可根据自身喜好、需要或场合的不同，设定不同的安装及运行方式。比如在大堂等公共场所，可以只采用输入密码的方式，但在重要场合，则禁止使用密码，只采用虹膜识别方式，当然也可以两种方式同时使用；

投入少、免维护：装配本系统可以保留原来的锁，但其机械运动件减少，且运动幅度小，门栓的寿命更长；系统免维护，并可随时扩充、升级，无须重新购置设备。长远来看，效益显著，并可使管理档次大大的提高。

应用行业广泛：广泛应用于煤矿、银行、监狱、门禁、社保、医疗等多种行业；

**缺点**

1．很难将图像获取设备的尺寸小型化；

2．设备造价高，无法大范围推广；

3．镜头可能产生图像畸变而使可靠性降低；

4．两大模块：硬件和软件；

5．一个自动虹膜识别系统包含硬件和软件两大模块：虹膜图像获取装置和虹膜识别算法。分别对应于图像获取和模式匹配这两个基本问题。

- **面部识别**

**原理**

人脸识别技术中被广泛采用的区域特征分析算法，它融合了计算机图像处理技术与生物统计学原理于一体，利用计算机图像处理技术从视频中提取人像特征点，利用生物统计学的原理进行分析建立数学模型，即人脸特征模板。利用已建成的人脸特征模板与被测者的面像进行特征分析，根据分析的结果来给出一个相似值。通过这个值即可确定是否为同一人。

**人脸识别技术优势**

人脸识别作为一种新兴的生物特征识别技术（Biometrics），与虹膜识别、指纹扫描、掌形扫描等技术相比，人脸识别技术在应用方面具有独到的优势：

使用方便，用户接受度高人脸识别技术使用通用的摄像机作为识别信息获取装置，以非接触的方式在识别对象未察觉的情况下完成识别过程。

直观性突出人脸识别技术所使用的依据是人的面部图像，而人脸无疑是肉眼能够判别的最直观的信息源，方便人工确认、审计，“以貌取人”符合人的认知规律。

识别精确度高，速度快与其它生物识别技术相比，人脸识别技术的识别精度处于较高的水平，误识率、拒认率较低。

不易仿冒在安全性要求高的应用场合，人脸识别技术要求识别对象必须亲临识别现场，他人难以仿冒。人脸识别技术所独具的活性判别能力保证了他人无法以非活性的照片、木偶、蜡像来欺骗识别系统。这是指纹等生物特征识别技术所很难做到的。举例来说，用合法用户的断指即可仿冒合法用户的身份而使识别系统无从觉察。

使用通用性设备人脸识别技术所使用的设备为一般的PC、摄像机等常规设备，由于计算机、闭路电视监控系统等已经得到了广泛的应用，因此对于多数用户而言使用人脸识别技术无需添置大量专用设备，从而既保护了用户的原有投资又扩展了用户已有设备的功能，满足了用户安全防范的需求。

基础资料易于获得人脸识别技术所采用的依据是人脸照片或实时摄取的人脸图像，因而无疑是最容易获得的。

成本较低，易于推广使用由于人脸识别技术所使用的是常规通用设备，价格均在一般用户可接受的范围之内，与其它生物识别技术相比，人脸识别产品具有很高的性能价格比。

概括地说，人脸识别技术是一种高精度、易于使用、稳定性高、难仿冒、性价比高的生物特征识别技术，具有极其广阔的市场应用前景。

**缺点**

面部识别被认为是生物特征识别领域甚至人工智能领域最困难的研究课题之一。面部识别的困难主要是面部作为生物特征的特点所带来的。

相似性不同个体之间的区别不大，所有的面部的结构都相似，甚至面部器官的结构外形都很相似。这样的特点对于利用面部进行定位是有利的，但是对于利用面部区分人类个体是不利的。

易变性面部的外形很不稳定，人可以通过脸部的变化产生很多表情，而在不同观察角度，面部的视觉图像也相差很大，另外，面部识别还受光照条件（例如白天和夜晚，室内和室外等）、面部的很多遮盖物（例如口罩、墨镜、头发、胡须等）、年龄等多方面因素的影响。

在面部识别中，第一类的变化是应该放大而作为区分个体的标准的，而第二类的变化应该消除，因为它们可以代表同一个个体。通常称第一类变化为类间变化，而称第二类变化为类内变化。对于面部，类内变化往往大于类间变化，从而使在受类内变化干扰的情况下利用类间变化区分个体变得异常困难。

- **静脉识别**

主要是利用静脉血管的结构来进行身份识别。由于静脉纹络包含大量的特征信息，可以作为验证的对象。

手掌静脉识别的原理也是利用静脉血管与肌肉、骨骸之间对特定波长红外光不同的吸收特性来进行静脉血管造影。

与手掌静脉识别的原理相同。由于手掌较厚，红外光通常无法进行透射，因而只能采用反射造影法。

红外光照射在手背上，有静脉的部位吸收红外光反射暗淡，肌肉与骨路部位反射强烈，从而实现对静脉的造影。

**优点**

1）属于内牛理特征，不会磨损，较难伪造，具有很高安全性。

2）血管特征通常更明显，容易辨识，抗干扰性好。

3）可实现非接触式测量，卫生性好，易于为用户接受。

4）不易受手表面伤痕或油污的影响。

**缺点**

1）手背静脉仍可能随着年龄和生理的变化而发生变化，永久性尚未得到证实

2）虽然可能性较小，但仍然存在无法成功注册登记的可能。

3）由于采集方式受自身特点的限制，产品难以小型化。

4）采集设备有特殊要求，设计相对复杂，制造成本高。



**2.“找回口令功能”和“忘记密码”在访问授权机制中的意义？请尝试设计几种安全的“找回口令功能”，详细描述找回口令的用户具体操作过程。**

意义：

-  “找回口令功能”和“忘记密码”是被授权用户忘记口令时重新获取权限的方式，从而对客体能够正常访问。

“找回口令功能”方案设计：

- 验证账户是否为本网站或应用有效账户，还要加图形码验证，防止机器人。（PS：有的网站和应用可能直接使用用户手机号或邮箱作为账户，可直接跳过此步骤）
- 使用账户绑定的手机号或邮箱验证，接收手机短信验证码或重置密码链接。使用手机号或邮箱主要是为了保证是用户本人操作。要是手机验证码泄露或邮箱密码泄露等不可控原因导致用户账户被盗，也是无能为力的事情咯~
- 输入手机短信验证码进行验证，然后录入新密码两次。或者通过邮箱重置密码链接，直接跳转到录入新密码界面，重置密码。
- 密码合法校验，两次密码输入相同校验。错误提示。
- 新密码设置成功，提示用户成功信息，结束。



**3.绘制用户使用用户名/口令+图片验证码方式录系统的流程图。考虑认证成功和失败两种场景，考虑授权成功和失败两种场景。**

![123](images\流程图.png)



**4.Windows XP / 7 中的访问控制策略有哪些？访问控制机制有哪些？**

- 访问控制策略：

  - 基于角色的访问控制 在Windows XP中，有一群不为人知的用户，它们的作用是可以让我们指派权限到某种"状态"的用户(如"匿名用户"、"网络用户")等，而不是某个特定的用户或组(如 "zhong"、"CPCW"这类用户)。这样一来，对用户权限的管理就更加容易精确控制了。这群用户在Windows XP中，统一称为**内置安全主体**。

  > Windows XP对访问控制方面的策略做了较多的改进。主要有，限制网络用户为来宾账号的策略，空口令限制策略，借助Microsoft Passport实现的单一登录方式，针对漫游用户的凭证管理等。例如，凭证管理特性为包括密码和X.509证书在内的用户凭证提供了安全的存储方式。该特性为包括漫游用户在内的所有用户提供了一致性的单一签名体验。如果用户需要访问公司网络中的一个应用程序，那么，在首次进行尝试时，用户需要进行身份验证，并根据提示信息提供一个凭证。在提供该凭证后，它将与所请求的应用程序建立关联。今后，当用户再次访问该应用程序时，原先所保存的凭证将在无需重新输入的情况下再次使用。

  - 强制访问控制

    用户在登陆时，登陆主机的系统首先把用户输入的用户名等信息传送给安全账号管理器，安全账号管理器将这些信息与SAM数据库中的信息进行比较。比较结果，如果匹配，服务器发给工作站允许访问的信息，并返回用户的安全标识，每次用户对系统进行操作时，系统都会将用户的SID与安全描述符中的自主访问控制表进行比较，从而决定用户是否有权访问对象。

- 访问控制机制

  - 系统为共享资源创建的安全描述符包含了该对象的一组安全属性：1. 所有者安全标识。2. 组安全标识。3. 自主访问控制表（DAC）4. 系统访问控制表（ACL）



**5.用权限三角形模型来理解并描述下 2 种威胁模型：提权、仿冒。**

- 提权：
  - **纵向**提权：低权限角色获得高权限角色的权限。
  - **横向**提权：获得同级别角色的权限。
- 仿冒：用户A以用户B的身份进行了认证，拥有了用户B才拥有的权利。用户在系统看来角色进行了变更，相对应的权利因而发生了变化

**6.试通过操作系统的访问控制机制来达到预防一种真实病毒的运行目的。**

举例：蠕虫病毒是一种常见的计算机病毒。它是利用网络进行复制和传播，传染途径是通过网络和电子邮件。最初的蠕虫病毒定义是因为在DOS环境下，病毒发作时会在屏幕上出现一条类似虫子的东西，胡乱吞吃屏幕上的字母并将其改形。蠕虫病毒是自包含的程序，它能传播自身功能的拷贝或自身的某些部分到其他的计算机系统中。 蠕虫病毒是自包含的程序，它能传播它自身功能的拷贝或它的某些部分到其他的计算机系统中。蠕虫不需要将其自身附着到宿主程序，有两种类型的蠕虫：主机蠕虫与网络蠕虫。主计算机蠕虫完全包含在它们运行的计算机中，并且使用网络的连接仅将自身拷贝到其他的计算机中，主计算机蠕虫在将其自身的拷贝加入到另外的主机后，就会终止它自身，这种蠕虫有时也叫"野兔"，蠕虫病毒一般是通过1434端口漏洞传播。 在QQ群下载的分享文件打开后会跳转到色情网站。这是流行的QQ群蠕虫病毒，不仅会感染PC，安卓手机甚至未越狱的iPhone和iPad也无法幸免。

**7.什么是 OAuth？**

- 是互联网上的一款安全协议，OAUTH协议为用户资源的授权提供了一个安全的、开放而又简易的标准。与以往的授权方式不同之处是OAUTH的授权不会使第三方触及到用户的帐号信息（如用户名与密码），即第三方无需使用用户的用户名与密码就可以申请获得该用户资源的授权，因此OAUTH是安全的。oAuth是Open Authorization的简写。

- **协议特点**
  - (1). 简单：不管是OAUTH服务提供者还是应用开发者，都很易于理解与使用；
  - (2). 安全：没有涉及到用户密钥等信息，更安全更灵活；
  - (3). 开放：任何服务提供商都可以实现OAUTH，任何软件开发商都可以使用OAUTH；

**8.什么是 OpenID？**

- OpenID 是一个**以用户为中心的数字身份识别框架**，是一个以URL为身份标识的分散式身份验证解决方案，它具有开放、分散、自由等特性。 OpenID 的创建基于这样一个概念：可以通过URL来认证一个网站的唯一身份，同理，也可以让每人通过一个URL (一个OpenID身份就是一个URL)，在多个网站上进行登录，作为用户的身份认证。 形象一点来说：URL是护照，OpenID服务器就是户口所在地。

**9.试用本章所学理论分析 0Auth 和 OpenID 的区别与联系。**

- **Open**ID是用来验证的，就是说可以用一个url来唯一表明身份（不用挨个记每个网站的用户密码）。
-  OAuth是用来授权的（俺可以授权一个网站访问俺在另外一个网站的数据，而俺不用把俺的密码给第一个网站。 

**10.如何使用 OAuth 和 OpenID 相关技术实现单点登录（Single Sign On）？**

- 单点登录的英文名是 Single Sign On，因此一般简称为SSO。它的用途在于，不管多么复杂的应用群，只要在用户权限范围内，那么就可以做到，用户只需要登录一次就可以访问权限范围内的所有应用子系统。对于用户而言，访问多个应用子系统只需要登录一次，同样在需要注销的时候也只需要注销一次。举个简单的例子，你在百度首页登录成功之后，你再访问百度百科、百度知道、百度贴吧等网站也会处于登录状态了，这就是一个单点登录的真实案例。
- 重要的是理解：
  - SSO服务端和SSO客户端直接是通过授权以后发放Token的形式来访问受保护的资源；
  - 相对于浏览器来说，业务系统是服务端，相对于SSO服务端来说，业务系统是客户端；
  - 浏览器和业务系统之间通过会话正常访问；
  - 不是每次浏览器请求都要去SSO服务端去验证，只要浏览器和它所访问的服务端的会话有效它就可以正常访问。
- 过程：
  - 当用户第一次登录时将用户名密码发送给验证用户服务
  - 验证用户将OpenId返回到客户端，客户端进行存储。
  - 登录网址B，用OpenID实现身份认证并登录（网站B将OpenID发送到验证服务，询问是否登录到网址B，用户确认，跳转回网址B，成功使用OpenID登录网站B）
  - 利用OAuth即可在网站B获得访问服务的用户信息和权限，从而实现SSO。

## 参考链接

- [(41条消息) oauth2.0与单点登录_炎升的博客-CSDN博客_单点登录oauth2.0](https://blog.csdn.net/weixin_40482816/article/details/114133202)
- [oAuth_百度百科 (baidu.com)](https://baike.baidu.com/item/OAuth/7153134)
- [什么是OpenID？OpenID概念、原理和案例介绍 - iskyoole - 博客园 (cnblogs.com)](https://www.cnblogs.com/iskyoole/articles/2659273.html#:~:text=OpenID 是一个以用户为中心的数字身份识别框架，是一个以URL为身份标识的分散式身份验证解决方案，它具有开放、分散、自由等特性。 OpenID,的创建基于这样一个概念：可以通过URL来认证一个网站的唯一身份，同理，也可以让每人通过一个URL (一个OpenID身份就是一个URL)，在多个网站上进行登录，作为用户的身份认证。 形象一点来说：URL是护照，OpenID服务器就是户口所在地。)